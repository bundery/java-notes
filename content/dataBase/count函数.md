# Count(\*)与Count(1)的区别
COUNT(1)和COUNT(\*)执行优化器的优化是完全一样的。

## MyIsam
MyISAM统计表的总行数的时候会很快，但前提是不能加**WHERE**条件，因为MyISAM对于表的行数做了优化，专门添加一个变量存储表的行数，如果查询条件没有WHERE子句旧相当于查询表中一共有多少行数据，MyISAM可以直接返回该变量值，所以加了WHERE条件该优化就无效了。Innodb的表也有这么一个存储了表行数的变量，但只是一个没有实际意义的估计值。

## Innodb
如果该表只有一个主键索引，没有任何二级索引的情况下，那么COUNT(\*)和COUNT(1)都是通过通过主键索引来统计行数的。如果该表有二级索引，则COUNT(1)和COUNT(\*)都会通过占用空间最小的字段的二级索引进行统计，也就是说虽然COUNT(1)指定了第一列但是innodb不会真的去统计主键索引。Innodb的主键索引是聚簇索引（包含了KEY，除了KEY之外的其他字段值，事务ID和MVCC回滚指针）所以主键索引一定会比二级索引（包含KEY和对应的主键ID）大，也就是说在有二级索引的情况下，一般COUNT(*)都不会通过主键索引来统计行数，在有多个二级索引的情况下选择占用空间最小的。所以在数据量比较大的时候， IO次数会很多（每次IO读取的数据量是固定的，索引占用的空间越小所需的IO次数也就越少），一个优化方案就是预先建一个小字段并且建立二级索引专门用来统计行数，查询行数速度会变快很多。